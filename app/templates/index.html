<!doctype html>
<html ng-app="myApp">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta name="renderer" content="webkit">
    <meta http-equiv="Cache-Control" content="no-siteapp" />
    <link rel="icon" type="image/png" href="[[ url_for('static', filename='i/favicon.png', _external=True) ]]">
    <link rel="apple-touch-icon-precomposed" href="[[ url_for('static', filename='i/app-icon72x72@2x.png', _external=True) ]]">
    <meta name="apple-mobile-web-app-title" content="Amaze UI" />
    <link rel="stylesheet" href="[[ url_for('static', filename='css/amazeui.min.css', _external=True) ]]" />
    <link rel="stylesheet" href="[[ url_for('static', filename='css/admin.css', _external=True) ]]">
    <link rel="stylesheet" href="[[ url_for('static', filename='css/app.css', _external=True) ]]">
    <link rel="stylesheet" href="[[ url_for('static', filename='css/clock.css', _external=True) ]]"> {% if title %}
    <title>[[title]] - Quantdo</title>
    {% else %}
    <title>Welcome to Quantdo - QOPS</title>
    {% endif %}
</head>

<body ng-controller="mainController">
    <!-- Modal Dialog Begin -->
    <modal-dialog head-title="{{dialogTitle}}" sub-title="{{dialogSubTitle}}" id="modalDialog" modal-class="{{dialogClass}}" url="{{dialogURI}}"></modal-dialog>
    <!-- <div ng-init="currentId = [[user_id]]" ng-controller="Privileges"> -->
    <div ng-init="currentId = [[user_id]]">
    </div>

    <div class="am-modal am-modal-confirm" tabindex="-1" id="addNewGroups" ng-controller="optionGroupController">
        <div class="am-modal-dialog">
            <form class="am-form am-form-horizontal" name="optionSubmitName">
                <div class="am-modal-hd font-green bold">新增操作组
                    <a href="javascript: void(0)" class="am-close am-close-spin" ng-click="resetDialog()" data-am-modal-close>&times;</a>
                </div>
                <div id="modalInfoShowAdd"></div>
                <div class="am-modal-bd">
                    <div class="am-form-group am-form-icon font-green am-g">
                        <label for="doc-ipt-3-a" class="am-u-sm-2 am-form-label">系统名</label>
                        <div class="am-u-sm-3">
                            <select id="doc-ipt-3-a" ng-model="optionGroupConfirm.operation_group.sys_id" ng-change="optionBookInSysId()" ng-options="x.id as x.name for x in optionGroupSystem">
                                <!-- <option value="{{x.id}}" ng-repeat="x in optionGroupSystem">{{x.name}}</option> -->
                                <option value="">--请选择--</option>
                            </select>
                        </div>
                        <label for="doc-ipt-3-b" class="am-u-sm-2 am-form-label font-green">操作组名</label>
                        <div class="am-u-sm-5">
                            <input type="text" name="optionGroup_name" ng-model="optionGroupName" ng-class="{true: 'invalid', false: ''}[optionGroupConfirm.operation_group.sys_id!==null && optionGroupName===undefined]" ng-disabled="optionGroupConfirm.operation_group.sys_id===null"
                                placeholder="必填项" maxlength="20" required>
                        </div>
                    </div>
                    <div class="am-form-group am-form-icon font-green am-g">
                        <label for="doc-ipt-3-b" class="am-u-sm-2 am-form-label font-green">操作组描述</label>
                        <div class="am-u-sm-3">
                            <input type="text" name="optionGroup_des" ng-model="optionGroupDescription" ng-disabled="optionGroupConfirm.operation_group.sys_id===null" maxlength="50" placeholder="选填项">
                        </div>
                        <label for="doc-ipt-3-b" class="am-u-sm-2 am-form-label font-green">初始化时间</label>
                        <div class="am-u-sm-2">
                            <input type="time" name="optionGroup_time" ng-model="optionGroupInittime" ng-class="{true: 'invalid', false: ''}[optionGroupConfirm.operation_group.sys_id!==null && optionGroupInittime===undefined]" ng-disabled="optionGroupConfirm.operation_group.sys_id===null"
                                required>
                        </div>
                        <label for="doc-ipt-3-b" class="am-u-sm-2 am-form-label font-green">是否应急</label>
                        <div class="am-u-sm-1" style="padding-top: 0.6em">
                            <input type="checkbox" ng-init="optionGroupEmerge=false" name="optionGroup_emerge" ng-model="optionGroupEmerge" ng-disabled="optionGroupConfirm.operation_group.sys_id===null">
                        </div>
                    </div>
                    <div class="am-form-group am-form-icon am-g">
                        <div class=" am-u-sm-3">
                            <div class="am-panel am-panel-secondary" style="height: 300px; background-color:#f5f5f5">
                                <div class="am-panel-hd" style="font-size: 14px;font-weight: bold">
                                    操作节点 - 双击添加
                                </div>
                                <div class="am-panel-bd" style="padding: 0px;">
                                    <select ng-model="selectId" multiple id="optionGroups" ng-disabled="optionGroupConfirm.operation_group.sys_id===null">
                                        <option ng-dblclick="optionSelectAdd()" ng-click="infOfDetail(selectId)" 
                                            ng-repeat="x in optionGroupDataBackup" value="{{x.id}}" 
                                            style="font-size: 14px;">{{x.name}}</option>
                                    </select>
                                </div>
                                <div class="am-panel-footer am-text-sm">
                                    {{detailInfo}}
                                </div>
                            </div>
                        </div>
                        <div class="am-u-sm-9">
                            <div class="am-panel am-panel-secondary" style="height: 300px;">
                                <div class="am-panel-hd am-u-sm-12" style="font-weight:bold; font-size: 14px;padding: .6em 0px;">
                                    <div class="am-u-sm-3">
                                        操作名称
                                    </div>
                                    <div class="am-u-sm-4">
                                        操作描述
                                    </div>
                                    <div class="am-u-sm-2">
                                        起始
                                    </div>
                                    <div class="am-u-sm-2">
                                        结束
                                    </div>
                                    <div class="am-u-sm-1" style="padding-top: 18px; padding-right: 20px; font-size: 16px; text-align: right;">
                                        <span class="am-icon-trash"></span>
                                    </div>
                                </div>
                                <div class="am-panel-bd" style="padding: 0px;">
                                    <div id="listBorderBottom" class="am-panel-bd am-u-sm-12" style="overflow-y: auto;background-color:#FFFFFF; padding: 0px; height: 260px">
                                        <ul sv-root sv-part="optionGroupConfirm.operations">
                                            <li ng-repeat="data in optionGroupConfirm.operations" sv-element>
                                                <div class="am-u-sm-3" style="padding: 1px">
                                                    <input type="text" name="op_name{{$index}}" style="border: none;" ng-model="data.name" maxlength="20" ng-class="{true: 'invalid', false: ''}[data.name===undefined]" required/>
                                                </div>
                                                <div class="am-u-sm-4" style="padding: 1px">
                                                    <input type="text" style="border: none" ng-model="data.description" maxlength="50" />
                                                </div>
                                                <div class="am-u-sm-2" style="padding: 1px">
                                                    <input name="startTime{{$index}}" type="text" style="border: none;" value="{{data.earliest}}" ng-model="data.earliest" ng-pattern="/^(0\d{1}|1\d{1}|2[0-3]):([0-5]\d{1})$/" />
                                                    <span class="am-icon-warning am-inline" style="color: red" ng-show="!optionSubmitName.startTime{{$index}}.$valid"></span>
                                                </div>
                                                <div class="am-u-sm-2" style="padding: 1px">
                                                    <input name="endTime{{$index}}" type="text" style="border: none;" value="{{data.latest}}" ng-model="data.latest" ng-pattern="/^(0\d{1}|1\d{1}|2[0-3]):([0-5]\d{1})$/" />
                                                    <span class="am-icon-warning am-inline" style="color: red" ng-show="!optionSubmitName.endTime{{$index}}.$valid"></span>
                                                </div>
                                                <div>
                                                    <span class="am-icon-bars am-inline" style="position: relative; cursor: pointer;line-height: 28px;" ng-dblclick="dbclickFunc($index)" sv-handle></span>
                                                </div>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="am-modal-footer am-u-sm-12">
                    <span class="am-modal-btn am-u-sm-6" ng-click="resetDialog()" data-am-modal-cancel>取消</span>
                    <button type="submit" class="am-btn am-btn-primary am-u-sm-6" style="height: 44px;" ng-disabled="optionGroupConfirmIsNull||optionSubmitName.$invalid" ng-click="addNewGroup()">
                        确定
                        <span class="am-icon-refresh am-icon-spin" ng-show="loadingIcon"></span>
                    </button>
                </div>
            </form>
        </div>
    </div>

    <div class="am-modal am-modal-confirm" tabindex="-1" id="defineOptionBook" ng-controller="optionBookController">
        <div class="am-modal-dialog">
            <form class="am-form am-form-horizontal" name="opBookDefine" ng-submit="">
                <div class="am-modal-hd font-green bold">定义操作
                    <a href="javascript: void(0)" class="am-close am-close-spin" ng-click="resetDialog()" data-am-modal-close>&times;</a>
                </div>
                <div id="modalInfoShowDefine"></div>
                <div class="am-modal-bd">
                    <div class="am-form-group am-form-icon font-green">
                        <label class="am-u-sm-2 am-form-label">主系统</label>
                        <div class="am-u-sm-3">
                            <select ng-change="selectWhichSystem(optionBookEditData.main_sys.id)" ng-model="optionBookEditData.main_sys" ng-options="x.name for x in optionBookData" required>
                                <option value="">--请选择--</option>
                            </select>
                        </div>
                        <label for="doc-ipt-3-a" class="am-u-sm-2 am-form-label">系统列表</label>
                        <div class="am-u-sm-5">
                            <select id="doc-ipt-3-a" ng-model="optionBookEditData.sys" value="x.id" ng-options="x.name for x in systemListData" ng-disabled="optionBookEditData.main_sys=='' || optionBookEditData.main_sys==undefined" ng-class="{true: 'invalid', false: ''}[optionBookEditData.sys===undefined]"
                                required>
                                <option value="">--请选择--</option>
                            </select>
                        </div>
                    </div>
                    <div class="am-form-group am-form-icon font-green">
                        <label for="doc-ipt-3-f" class="am-u-sm-2 am-form-label">脚本类型</label>
                        <div class="am-u-sm-3">
                            <select ng-model="optionBookEditData.type" ng-disabled="optionBookEditData.sys==='' || optionBookEditData.sys===undefined" ng-class="{true: 'invalid', false: ''}[optionBookEditData.type===undefined]" required>
                                <option value="">--请选择--</option>
                                <option value="Checker">检查</option>
                                <option value="Executor">执行</option>
                                <!-- <option value="Interactivator">交互</option>
                                <option value="Execute_Checker">执行与检查</option>
                                <option value="Interactive_Checker">交互与检查</option> -->
                            </select>
                        </div>
                        <label for="doc-ipt-3-r" class="am-u-sm-2 am-form-label">连接方式</label>
                        <div class="am-u-sm-5">
                            <select id="doc-ipt-3-r" ng-model="optionBookEditData.remote_name" ng-disabled="optionBookEditData.sys=='' || optionBookEditData.sys==undefined" ng-class="{true: 'invalid', false: ''}[optionBookEditData.remote_name===undefined]" required>
                                <option value="">--请选择--</option>
                                <option value="SSHConfig">SSHConfig</option>
                                <!-- <option value="WinRmConfig">WinRmConfig</option> -->
                            </select>
                        </div>
                    </div>
                    <div class="am-form-group am-form-icon font-green">
                        <label for="doc-ipt-3-b" class="am-u-sm-2 am-form-label">名称</label>
                        <div class="am-u-sm-3">
                            <input type="text" name="optionGroup_name" ng-disabled="optionBookEditData.sys=='' || optionBookEditData.sys==undefined" id="doc-ipt-3-b" value="optionBookEditData.name" ng-model="optionBookEditData.name" placeholder="必填项" ng-class="{true: 'invalid', false: ''}[optionBookEditData.name===undefined]"
                                maxlength="20" required>
                        </div>
                        <label for="doc-ipt-3-d" class="am-u-sm-2 am-form-label">分类</label>
                        <div class="am-u-sm-5">
                            <select ng-model="optionBookEditData.catalog" ng-disabled="optionBookEditData.sys=='' || optionBookEditData.sys==undefined" ng-options="x.name for x in operationCatalogs" ng-class="{true: 'invalid', false: ''}[optionBookEditData.catalog===undefined]"
                                required>
                                <option value="">--请选择--</option>
                            </select>
                        </div>
                    </div>
                    <div class="am-form-group am-form-icon font-green">
                        <label for="doc-ipt-3-c" class="am-u-sm-2 am-form-label">描述</label>
                        <div class="am-u-sm-10">
                            <input type="text" name="optionGroup_des" id="doc-ipt-3-c" ng-disabled="optionBookEditData.sys=='' || optionBookEditData.sys==undefined" ng-model="optionBookEditData.description" maxlength="50" placeholder="选填项">
                        </div>
                    </div>
                    <div class="am-form-group am-form-icon font-green" ng-repeat="data in optionBookCommand track by $index">
                        <label for="doc-ta-1" class="am-u-sm-2 am-form-label font-green">命令输入</label>
                        <div class="am-u-sm-3">
                            <input type="text" ng-model="data.shell" ng-change="shellChanged()" ng-disabled="optionBookEditData.sys=='' || optionBookEditData.sys==undefined" placeholder="必填项" ng-class="{true: 'invalid', false: ''}[data.shell===undefined]" maxlength="30" required/>
                        </div>
                        <div class="am-u-sm-5">
                            <div class="am-input-group">
                                <span class="am-input-group-label font-green">命令目录 :</span>
                                <input type="text" class="am-form-field" ng-change="shellChanged()" ng-disabled="optionBookEditData.sys=='' || optionBookEditData.sys==undefined" ng-model="data.chdir" maxlength="100" placeholder="选填项" />
                            </div>
                        </div>
                        <div class="am-u-sm-2">
                            <button ng-click="optionBookCheckShell($index,optionBookEditData.main_sys.id)" type="button" ng-disabled="optionBookEditData.sys == '' || data.shell == ''" class="am-btn am-btn-default">检查</button>
                        </div>
                    </div>
                </div>
                <div class="am-modal-footer am-u-sm-12">
                    <span class="am-modal-btn am-u-sm-6" ng-click="resetDialog()" data-am-modal-cancel>取消</span>
                    <button ng-disabled="opBookDefine.$invalid || !opBookShellFine" ng-click="optionBookEditPost()" type="submit" class="am-btn am-btn-primary am-u-sm-6" style="height: 44px;">
                        确定  
                    </button>
                </div>
            </form>
        </div>
    </div>

    <div class="am-modal am-modal-confirm" tabindex="-1" id="userOptions">
        <div class="am-modal-dialog">
            <form class="am-form am-form-horizontal" name="userInfo">
                <div class="am-modal-hd font-green bold">用户属性
                    <a href="" class="am-close am-close-spin" data-am-modal-close>&times;</a>
                </div>
                <div class="am-modal-bd">
                    <div class="am-form-group am-form-icon font-green">
                        <label for="userSelector" class="am-u-sm-2">用户选择</label>
                        <div class="am-u-sm-4">
                            <select ng-options="x.name for x in userList" multiple>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="am-modal-footer am-u-sm-12">
                    <span class="am-modal-btn am-u-sm-6" data-am-modal-cancel>取消</span>
                    <span class="am-modal-btn am-u-sm-6">确定</span>
                </div>
            </form>
        </div>
    </div>

    <div class="am-modal am-modal-confirm" tabindex="-1" id="sys_ser">
        <div class="am-modal-dialog">
            <form class="am-form am-form-horizontal">
                <div class="am-modal-hd font-green bold">文件上传
                    <a href="javascript: void(0)" class="am-close am-close-spin" data-am-modal-close>&times;</a>
                </div>
                <div class="am-modal-bd">
                    <div class="am-form-group am-form-icon font-green">
                        <div class="am-u-sm-4">
                            <input type="file" file-model="fileToUpload">
                        </div>
                    </div>
                </div>
                <div class="am-modal-footer am-u-sm-12">
                    <span class="am-modal-btn am-u-sm-6" data-am-modal-cancel>取消</span>
                    <button type="button" ng-click="sendFile()" class="am-btn am-btn-primary am-u-sm-6" style="height: 44px;">
                        文件上传  
                    </button>
                </div>
            </form>
        </div>
    </div>
    <!-- Modal Dialog End -->

    <header class="am-topbar am-topbar-inverse" style="margin-bottom: 10px">
        <div class="am-topbar-brand">
            <a href="#/dashboard" class="tpl-logo">
                <img src="[[ url_for('static', filename='img/logo.png', _external=True) ]]" alt="">
            </a>
        </div>
        <div class="am-collapse am-topbar-collapse" id="topbar-collapse">
            <ul class="am-nav am-nav-pills am-topbar-nav am-topbar-left admin-header-list tpl-header-list">
                <!-- <li ng-if="staticsShow">
                    <a class="am-dropdown-toggle tpl-header-list-link" href="javascript:">
                        <span ng-switch="status" style="cursor: pointer">
                            <span class="am-badge am-round tpl-badge-success" ng-switch-when="normal">
                                <i class="am-icon-heartbeat am-icon-md"></i>
                                <span>正常</span>
                        </span>
                        <span class="am-badge am-round tpl-badge-warning" ng-switch-when="warning">
                                <i class="am-icon-heartbeat am-icon-md"></i>
                                <span>警告</span>
                        </span>
                        <span class="am-badge am-round tpl-badge-danger" ng-switch-when="error">
                                <i class="am-icon-heartbeat am-icon-md"></i>
                                <span>错误</span>
                        </span>
                        </span>
                    </a>
                </li> -->
                <!--<li ng-controller='taskControl' class="am-dropdown" data-am-dropdown data-am-dropdown-toggle>
                    <a class="am-dropdown-toggle tpl-header-list-link" href="javascript:;">
                        <span class="am-dropdown-toggle tpl-header-list-link" style="cursor: pointer">
                            <span class="am-badge am-round tpl-badge-primary">
                                <i class="am-icon-tasks am-icon-md"></i>
                                <span>任务列表</span>
                        <span class="am-badge tpl-badge-primary am-round"></span>
                        </span>
                        </span>
                    </a>
                    <ul class="am-dropdown-content">
                        <li>当前有 0 项任务</li>
                    </ul>
                </li>-->
                <!-- <li class="am-dropdown" data-am-dropdown data-am-dropdown-toggle>
                    <a class="am-dropdown-toggle tpl-header-list-link" href="javascript:;">
                        <span class="am-dropdown-toggle tpl-header-list-link" style="cursor: pointer">
                            <span class="am-badge am-round tpl-badge-secondary">
                                <i class="am-icon-commenting-o am-icon-md"></i>
                                <span>消息列表</span>
                        <span class="am-badge tpl-badge-secondary am-round">{{messages.length}}</span>
                        </span>
                        </span>
                    </a>
                    <ul class="am-dropdown-content">
                        <li><span>你有 {{messages.length}} 条消息</span></li>
                        <li ng-repeat="msg in messages track by $index">
                            <span>{{msg}}</span>
                        </li>
                    </ul>
                </li> -->
            </ul>
            <ul class="am-nav am-nav-pills am-topbar-nav am-topbar-right admin-header-list tpl-header-list">
                <li>
                    <a href="javascript: void(0);">
                        <span>
                            <digital-clock theme="light" title="服务器心跳计时"></digital-clock>
                        </span>
                    </a>
                </li>
                <li>
                    <a class="tpl-header-list-link am-dropdown-toggle" href="#op_records">
                        <span class="am-icon-search"> 操作记录</span>
                    </a>
                </li>
                <li class="am-dropdown" data-am-dropdown>
                    <a class="tpl-header-list-link am-dropdown-toggle" href="" data-am-dropdown-toggle>
                        <span class="am-icon-cogs"> 设置中心</span>
                    </a>
                    <ul class="am-dropdown-content">
                        <!-- <li>
                            <a href="javascript: void(0)">
                                <i class="am-icon-cog am-icon-fw"></i>
                                <span>全局配置</span>
                            </a>
                        </li> -->
                        <!-- <li>
                            <a href="javascript: void(0)" data-am-modal="{target: '#userOptions', closeViaDimmer: false}">
                                <i class="am-icon-users am-icon-fw"></i>
                                <span>用户属性</span>
                            </a>
                        </li> -->
                        <li>
                            <a href="" ng-click="showModalDialog({target: '#defineOptionBook', closeViaDimmer: 0, width: 700})">
                                <i class="am-icon-tasks am-icon-fw"></i>
                                <span>添加操作节点</span>
                            </a>
                        </li>
                        <li>
                            <a href="" ng-click="showModalDialog({target: '#addNewGroups', closeViaDimmer: 0, width: 850})">
                                <i class="am-icon-clone am-icon-fw"></i>
                                <span>添加操作组</span>
                            </a>
                        </li>
                        <li>
                            <a href="#inventory">
                                <i class="am-icon-clone am-icon-fw"></i>
                                <span>系统服务器配置</span>
                            </a>
                        </li>
                        <!-- <li>
                            <a href="" ng-click="showModalDialog({target: '#sys_ser', closeViaDimmer: 0, width: 600})">
                                <i class="am-icon-wrench am-icon-fw"></i>
                                <span>配置文件导入</span>
                            </a>
                        </li> -->
                    </ul>
                </li>
                <li class="am-dropdown" data-am-dropdown data-am-dropdown-toggle>
                    <a class="am-dropdown-toggle tpl-header-list-link" href="">
                        <span class="tpl-header-list-user-nick">[[user_name]]</span>
                        <span id="user_uuid" style="display: none">[[user_uuid]]</span>
                        <span class="tpl-header-list-user-ico">
                            <img src="[[ url_for('static', filename='img/user01.png', _external=True) ]]">
                        </span>
                    </a>
                    <ul class="am-dropdown-content">
                        <!-- <li>
                            <a href="" class="am-disabled">
                                <i class="am-icon-bell-o am-icon-fw"></i>
                                <span style="margin-left: 3px">用户属性</span>
                            </a>
                        </li> -->
                        <li>
                            <a ng-click="ModifyPassword([[user_id]])">
                                <i class="am-icon-cog  am-icon-fw"></i>
                                <span style="margin-left: 3px">修改密码</span>
                            </a>
                        </li>
                        <li>
                            <a href="[[ url_for('auth.logout', _external=True) ]]">
                                <i class="am-icon-power-off  am-icon-fw"></i>
                                <span style="margin-left: 3px">注销</span>
                            </a>
                        </li>
                    </ul>
                </li>
            </ul>
        </div>
    </header>
    <div id="alertMessage" style="margin-bottom: 16px" ng-style="messagePosition" fix-style="messagePosition" top="3px" left="0" right="0" top-offset="90" fix-top></div>
    <aside class="tpl-page-container tpl-page-header-fixed">
        <!-- sider bar for slim -->
        <div class="tpl-left-nav tpl-left-nav-hover" style="display: none; width: 55px;">
            <div class="tpl-left-nav-title">
                <div class="am-icon-list tpl-header-nav-hover-ico am-fl am-margin-right" style="cursor: pointer">
                </div>
            </div>
            <div class="tpl-left-nav-list" style="width: 55px;">
                <ul class="tpl-left-nav-menu">
                    <li class="tpl-left-nav-item am-dropdown" ng-repeat="data in listName" ng-mouseover="showListIcon = true" ng-mouseleave="showListIcon = false" data-am-dropdown>
                        <div>
                            <a href="{{data.Url}}" class="nav-link am-dropdown-toggle" data-am-dropdown-toggle>
                                <i class="{{data.icon}}"></i>
                            </a>
                            <ul class="am-dropdown-content" id="second{{data.id}}" ng-if="data.isSecond" style="display: block;width: 180px;" ng-show="showListIcon && grpOrderEdit[data.id]" sv-root sv-part="opGroupEditList[data.id]">
                                <span style="margin-left: 15px; font-size: 10pt; font-weight: bold; color: #7FB0DA;">
                                    {{::data.name}}
                                    <i class="am-icon-check-circle-o am-margin-left" style="cursor: pointer" ng-click="changeSidebar(data.id)"></i>
                                    <i class="am-icon-close am-margin-left-xs" style="cursor: pointer" ng-click="grpOrderEdit[data.id]=false"></i>
                                </span>
                                <li ng-repeat="children in opGroupEditList[data.id]" ng-show="!children.disabled" sv-element>
                                    <div style="padding: 12px 8px 12px 10px;font-size: 12px">
                                        <span class="am-inline-block">
                                            <input type="text" ng-model="children.name" style="width: 50px;background-color: transparent;margin-top: -5px;font-size: 12px" ng-class="{true: 'invalid', false: ''}[children.name === undefined]" maxlength="20" required> -
                                            <input type="time" ng-model="children.trigger_time" style="background-color: transparent;margin-top: -5px;font-size:12px" ng-class="{true: 'invalid', false: ''}[children.trigger_time === undefined]" required>
                                        </span>
                                        <span style="cursor: pointer;" ng-show="grpOrderEdit[data.id]" sv-handle class="am-icon-bars am-inline-block"></span>
                                        <i class="am-icon-trash am-margin-left-xs" style="cursor: pointer" ng-click="groupItemDelete(children)"></i>
                                    </div>
                                </li>
                            </ul>
                            <ul class="am-dropdown-content" id="second{{data.id}}" ng-if="data.isSecond" style="display: block;" ng-show="showListIcon && !grpOrderEdit[data.id]">
                                <span style="margin-left: 15px; font-size: 10pt; font-weight: bold; color: #7FB0DA;">
                                    {{::data.name}}
                                    <i class="am-icon-edit am-margin-left" style="cursor: pointer" ng-click="groupEdit(data)"></i>
                                </span>
                                <li ng-repeat="children in data.secondName">
                                    <a href="{{children.Url}}" class="am-inline-block" style="padding-left: 10px;">
                                        <span style="background-color: transparent;margin-top: -5px;" ng-class="{true: 'am-text-danger', false: ''}[children.is_emerge]">
                                            {{children.name}} - {{children.trigger_time|time:'HH:mm'}}
                                        </span>
                                    </a>
                                </li>
                                <a href="{{data.emerge_ops.Url}}" style="color: #96a5aa; font-size: 12px;padding-left: 10px; padding-bottom: 8px;" ng-if="privileges['#operate-books']">{{::data.emerge_ops.name}}</a>
                            </ul>
                        </div>
                    </li>
                </ul>
            </div>
        </div>

        <!-- side bar 4 fatter -->
        <div class="tpl-left-nav tpl-left-nav-hover">
            <div class="tpl-left-nav-title">
                <div class="am-icon-list tpl-header-nav-hover-ico am-fr am-margin-right" style="cursor: pointer">
                </div>
                <span class="am-margin-right-xs am-icon-refresh am-fr am-inline-block am-icon-fw" ng-class="{true: 'am-icon-spin', false: ''}[checkingSideBarList]" ng-click="SideBarList()" style="cursor: pointer;font-size: 16px;margin-top:3px;color:#C0CDDC"></span>
            </div>
            <div class="tpl-left-nav-list">
                <ul class="tpl-left-nav-menu">
                    <li class="tpl-left-nav-item" ng-repeat="data in listName">
                        <form>
                            <div class="nav-link tpl-left-nav-link-list">
                                <a href="{{data.Url}}">
                                    <i class="{{data.icon}} am-icon-fw"></i>
                                    <span ng-bind="data.name"></span>
                                </a>
                                <span ng-switch="data.isShow">
                                <i ng-class="{true: 'am-icon-angle-right tpl-left-nav-more-ico am-fr am-margin-right',false: ''}[data.isSecond]" style="cursor: pointer" ng-click="showListChild(data.id)" ng-switch-when="false"></i>
                                <i ng-class="{true: 'am-icon-angle-down tpl-left-nav-more-ico am-fr am-margin-right',false: ''}[data.isSecond]" style="cursor: pointer" ng-click="showListChild(data.id)" ng-switch-when="true"></i>
                                <i class="am-icon-edit am-fr am-margin-right" style="cursor: pointer" ng-show="data.isShow && !grpOrderEdit[data.id]" ng-click="groupEdit(data)"></i>
                                <i class="am-icon-close am-fr am-margin-right" style="cursor: pointer" ng-show="data.isShow && grpOrderEdit[data.id]" ng-click="grpOrderEdit[data.id]=false"></i>
                                <i class="am-icon-check-circle-o am-fr am-margin-right" style="cursor: pointer" ng-show="data.isShow && grpOrderEdit[data.id]" ng-click="changeSidebar(data.id)"></i>
                            </span>
                            </div>
                            <ul class="tpl-left-nav-sub-menu" id="{{data.id}}" ng-if="data.isSecond" style="display: block" ng-show="data.isShow && grpOrderEdit[data.id]" sv-root sv-part="opGroupEditList[data.id]">
                                <li ng-repeat="children in opGroupEditList[data.id]" ng-show="!children.disabled" style="vertical-align: center;" sv-element>
                                    <div style="padding: 10px 0 10px 20px; font-size: 14px">
                                        <span class="am-icon-circle am-inline-block">
                                            <input type="text" ng-model="children.name" style="width: 60px;background-color: transparent;font-size: 14px;" ng-class="{true: 'invalid', false: ''}[children.name === undefined]" maxlength="20" required> -
                                            <input type="time" style="background-color: transparent;font-size: 14px" ng-model="children.trigger_time" ng-class="{true: 'invalid', false:''}[children.trigger_time === undefined]" required>
                                        </span>
                                        <span style="cursor: pointer;" sv-handle class="am-icon-bars am-inline-block"></span>
                                        <i class="am-icon-trash am-margin-left-xs" style="cursor: pointer;" ng-click="groupItemDelete(children)"></i>
                                    </div>
                                </li>
                            </ul>
                            <ul class="tpl-left-nav-sub-menu" id="{{data.id}}" ng-if="data.isSecond" style="display: block" ng-show="data.isShow && !grpOrderEdit[data.id]">
                                <li ng-repeat="children in data.secondName" style="vertical-align: center;">
                                    <div>
                                        <a href="{{children.Url}}" style="padding-left: 20px;padding-right: 0;">
                                            <span class="am-icon-circle" style="width: 165px;" ng-class="{true: 'am-text-danger', false: ''}[children.is_emerge]">
                                                {{children.name}} - {{children.trigger_time|time:'HH:mm'}}
                                            </span>
                                        </a>
                                    </div>
                                </li>
                                <a href="{{data.emerge_ops.Url}}" style="color: #485a6a; font-size: 14px;padding-left: 20px; padding-bottom: 8px;" ng-if="privileges['#operate-books']">{{::data.emerge_ops.name}}</a>
                            </ul>
                        </form>
                    </li>
                </ul>
            </div>
        </div>

        <div class="row" ng-show="clearTabList()">
            <ul class="am-tabs-nav am-nav am-nav-tabs">
                <li ng-repeat="data in tabList" class="{{data.active}}" style="margin-right: 5px">
                    <span class="am-icon-close" style="position: absolute;left: 77%" ng-click="tabDelete(data.id)"></span>
                    <a href="{{data.Url}}" ng-bind="data.name" ng-click="tabChangeActive(data.id)" style="display: inline-block;z-index: 100; padding-right: 20px;"></a>
                </li>
            </ul>
        </div>
    </aside>

    <div ng-view id="controll-view">
    </div>

    <script src="[[ url_for('static', filename='js/jquery.min.js', _external=True) ]]"></script>
    <!-- <script src="[[ url_for('static', filename='js/jquery.ba-resize.min.js', _external=True) ]]"></script> -->
    <script src="[[ url_for('static', filename='js/angular.min.js', _external=True) ]]"></script>
    <script src="[[ url_for('static', filename='js/angular-route.min.js', _external=True) ]]"></script>
    <script src="[[ url_for('static', filename='js/angular-sortable-view.js', _external=True) ]]"></script>
    <script src="[[ url_for('static', filename='js/ngStorage.min.js', _external=True) ]]"></script>
    <script src="[[ url_for('static', filename='js/ngscroll.min.js', _external=True) ]]"></script>
    <script src="[[ url_for('static', filename='js/amazeui.min.js', _external=True) ]]"></script>
    <script src="[[ url_for('static', filename='js/echarts.min.js', _external=True) ]]"></script>
    <script src="[[ url_for('static', filename='js/app.js', _external=True) ]]" type="text/javascript" charset="utf-8"></script>
    <script src="[[ url_for('static', filename='js/myApp.js', _external=True) ]]" type="text/javascript" charset="utf-8"></script>
    <script src="[[ url_for('static', filename='js/routeConfig.js', _external=True) ]]" type="text/javascript" charset="utf-8"></script>
    <script src="[[ url_for('static', filename='js/service/systemServer.js', _external=True) ]]"></script>
    <script src="[[ url_for('static', filename='js/service/users.js', _external=True) ]]"></script>
    <script src="[[ url_for('static', filename='js/service/operationBooks.js', _external=True) ]]"></script>
    <script src="[[ url_for('static', filename='js/service/operations.js', _external=True) ]]"></script>
    <script src="[[ url_for('static', filename='js/service/systems.js', _external=True) ]]"></script>
    <script src="[[ url_for('static', filename='js/service/servers.js', _external=True) ]]"></script>
    <script src="[[ url_for('static', filename='js/service/fileUpload.js', _external=True) ]]"></script>
    <script src="[[ url_for('static', filename='js/service/uidatas.js', _external=True) ]]"></script>
    <script src="[[ url_for('static', filename='js/filter/resultFilter.js', _external=True) ]]"></script>
    <script src="[[ url_for('static', filename='js/filter/timeFormatter.js', _external=True) ]]"></script>
    <script src="[[ url_for('static', filename='js/filter/processFilter.js', _external=True) ]]"></script>
    <script src="[[ url_for('static', filename='js/directive/fileModel.js', _external=True) ]]"></script>
    <!-- <script src="[[ url_for('static', filename='js/directive/idcmap.js', _external=True) ]]"></script> -->
    <script src="[[ url_for('static', filename='js/directive/repeatFinish.js', _external=True) ]]"></script>
    <script src="[[ url_for('static', filename='js/directive/fixTop.js', _external=True) ]]"></script>
    <script src="[[ url_for('static', filename='js/directive/flapDigitalClock.js', _external=True) ]]"></script>
    <!-- <script src="[[ url_for('static', filename='js/directive/relamap.js', _external=True) ]]"></script> -->
    <script src="[[ url_for('static', filename='js/directive/modalDialog.js', _external=True) ]]"></script>
    <script src="[[ url_for('static', filename='js/controller/mainController.js', _external=True) ]]"></script>
    <script src="[[ url_for('static', filename='js/controller/dashBoardController.js', _external=True) ]]"></script>
    <script src="[[ url_for('static', filename='js/controller/addServerControl.js', _external=True) ]]"></script>
    <script src="[[ url_for('static', filename='js/controller/clientStaticsControl.js', _external=True) ]]"></script>
    <script src="[[ url_for('static', filename='js/controller/emergeOpsController.js', _external=True) ]]"></script>
    <script src="[[ url_for('static', filename='js/controller/loginStaticsControl.js', _external=True) ]]"></script>
    <script src="[[ url_for('static', filename='js/controller/opGroupController.js', _external=True) ]]"></script>
    <script src="[[ url_for('static', filename='js/controller/dashBoardController.js', _external=True) ]]"></script>
    <script src="[[ url_for('static', filename='js/controller/optionBookController.js', _external=True) ]]"></script>
    <script src="[[ url_for('static', filename='js/controller/optionGroupController.js', _external=True) ]]"></script>
    <script src="[[ url_for('static', filename='js/controller/optionResultControl.js', _external=True) ]]"></script>
    <script src="[[ url_for('static', filename='js/controller/svrStaticsControl.js', _external=True) ]]"></script>
    <script src="[[ url_for('static', filename='js/controller/sysStaticsControl.js', _external=True) ]]"></script>
</body>

</html>